[{"C:\\Users\\rossm\\chatapp\\src\\index.tsx":"1","C:\\Users\\rossm\\chatapp\\src\\style\\theme.ts":"2","C:\\Users\\rossm\\chatapp\\src\\components\\app\\App.tsx":"3","C:\\Users\\rossm\\chatapp\\src\\style\\colors.ts":"4","C:\\Users\\rossm\\chatapp\\src\\style\\fontFaces.ts":"5","C:\\Users\\rossm\\chatapp\\src\\utils\\sockets\\socket.ts":"6","C:\\Users\\rossm\\chatapp\\src\\routes\\Router.tsx":"7","C:\\Users\\rossm\\chatapp\\src\\routes\\Paths.ts":"8","C:\\Users\\rossm\\chatapp\\src\\pages\\templates\\CenteredPage.tsx":"9","C:\\Users\\rossm\\chatapp\\src\\pages\\templates\\ErrorPage.tsx":"10","C:\\Users\\rossm\\chatapp\\src\\pages\\Auth\\RegisterPage.tsx":"11","C:\\Users\\rossm\\chatapp\\src\\components\\video\\VideoCall.tsx":"12"},{"size":664,"mtime":1603472709113,"results":"13","hashOfConfig":"14"},{"size":1783,"mtime":1603472644016,"results":"15","hashOfConfig":"14"},{"size":1321,"mtime":1607214043594,"results":"16","hashOfConfig":"14"},{"size":14702,"mtime":1603472643725,"results":"17","hashOfConfig":"14"},{"size":557,"mtime":1603472643822,"results":"18","hashOfConfig":"14"},{"size":3575,"mtime":1607203810419,"results":"19","hashOfConfig":"14"},{"size":2007,"mtime":1607213367754,"results":"20","hashOfConfig":"14"},{"size":176,"mtime":1607203515759,"results":"21","hashOfConfig":"14"},{"size":839,"mtime":1607205946848,"results":"22","hashOfConfig":"14"},{"size":1004,"mtime":1607205995915,"results":"23","hashOfConfig":"14"},{"size":374,"mtime":1607203778971,"results":"24","hashOfConfig":"14"},{"size":4973,"mtime":1607210987467,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},"3vs2uj",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"29"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"47","usedDeprecatedRules":"29"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"29"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"29"},"C:\\Users\\rossm\\chatapp\\src\\index.tsx",["56"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\nimport reportWebVitals from './reportWebVitals';\nimport { gsaTheme } from './style/theme';\nimport { Provider } from '@fluentui/react-northstar';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider theme={gsaTheme}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n",["57","58"],"C:\\Users\\rossm\\chatapp\\src\\style\\theme.ts",[],"C:\\Users\\rossm\\chatapp\\src\\components\\app\\App.tsx",["59","60","61","62","63","64","65","66","67","68"],"C:\\Users\\rossm\\chatapp\\src\\style\\colors.ts",[],"C:\\Users\\rossm\\chatapp\\src\\style\\fontFaces.ts",[],"C:\\Users\\rossm\\chatapp\\src\\utils\\sockets\\socket.ts",[],"C:\\Users\\rossm\\chatapp\\src\\routes\\Router.tsx",["69","70","71","72","73","74"],"C:\\Users\\rossm\\chatapp\\src\\routes\\Paths.ts",["75"],"export const LOGIN_PATH = '/login';\r\nexport const REGISTER_PATH = '/register';\r\nexport const PASS_RESET_PATH = '/register';\r\n\r\n// Crud suffixes\r\nconst CREATE_SUFFIX = '/new';\r\n","C:\\Users\\rossm\\chatapp\\src\\pages\\templates\\CenteredPage.tsx",["76","77","78"],"import React, { ReactElement } from 'react';\r\nimport { Button, Flex } from '@fluentui/react-northstar';\r\nimport { gsaTheme } from '../../style/theme';\r\n\r\ninterface Props {\r\n    vertCenter?: boolean\r\n}\r\n\r\nconst CenteredPage: React.FC<Props> = ({ children, vertCenter: vertCenter = false }) => (\r\n    <Flex styles={{ height: '100vh', overflowY: 'scroll', width: '100%', justifyContent: 'center', backgroundColor: gsaTheme.siteVariables.colors.grey[200] }}>\r\n        <Flex styles={{ minHeight: '80vh', height: 'fit-content', justifyContent: vertCenter ? 'center' : 'flex-start', alignItems: 'center', flexDirection: 'column', margin: '10vh 2rem', padding: '2rem', backgroundColor: gsaTheme.siteVariables.colors.white, width: 'min( 50rem, 100%)' }}>\r\n            {children}\r\n        </Flex>\r\n    </Flex>\r\n);\r\n\r\n\r\nexport default CenteredPage;\r\n","C:\\Users\\rossm\\chatapp\\src\\pages\\templates\\ErrorPage.tsx",["79"],"import React, { ReactElement } from 'react';\r\nimport { Button, Flex } from '@fluentui/react-northstar';\r\nimport { gsaTheme } from '../../style/theme';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface ErrorPageProps {\r\n    error: {\r\n        number: number;\r\n        message: string;\r\n    }\r\n}\r\n\r\nconst ErrorPage: React.FC<ErrorPageProps> = ({ error }) => (\r\n    <Flex styles={{ minHeight: '100vh', width: '100%', justifyContent: 'center', backgroundColor: gsaTheme.siteVariables.colors.grey[300] }}>\r\n        <Flex style={{ fontSize: '15rem', justifyContent: 'center', alignItems: 'center' }}>ðŸ¤¯</Flex>\r\n        <Flex styles={{ justifyContent: 'center', alignItems: 'center', flexDirection: 'column', margin: '10vh 2rem', padding: '2rem' }}>\r\n            <h1 style={{ fontSize: '6rem', fontWeight: 700 }}>{error.number}</h1>\r\n            <h1>{error.message}</h1>\r\n            <Button as={Link} to='/' primary >Take me Home</Button>\r\n        </Flex>\r\n    </Flex >\r\n);\r\n\r\n\r\nexport default ErrorPage;","C:\\Users\\rossm\\chatapp\\src\\pages\\Auth\\RegisterPage.tsx",[],"C:\\Users\\rossm\\chatapp\\src\\components\\video\\VideoCall.tsx",["80"],"import { Button } from '@fluentui/react-northstar'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { makeConnection, localConnection, client } from '../../utils/sockets/socket';\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nexport const VideoCall: React.FC<Props> = ({ children }) => {\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n    const incomingVidRef = useRef<HTMLVideoElement>(null);\r\n    // const [streamOut, setStream] = useState<MediaStream>()\r\n    const [inCall, setInCall] = useState(false)\r\n\r\n    const signalConnect = () => {\r\n        setInCall(true)\r\n        makeConnection()\r\n    }\r\n\r\n    const pipeErr = (err: Error) => { throw err }\r\n\r\n    useEffect(() => {\r\n        navigator.mediaDevices.getUserMedia({ audio: false, video: true })\r\n            .then((stream) => {\r\n                if (videoRef?.current) {\r\n                    videoRef.current.srcObject = stream\r\n                    localConnection.ontrack = gotRemoteStream;\r\n                    stream.getTracks().forEach(track => localConnection.addTrack(track, stream));\r\n                    // setStream(stream)\r\n                    // makeVideoCall(stream)\r\n                }\r\n            }).catch((err) => console.error(`Error getting media device`, err));\r\n    }, [videoRef])\r\n\r\n    const canPlay = () => {\r\n        if (videoRef?.current) { videoRef.current.play() }\r\n    }\r\n\r\n    const gotRemoteStream = (e: any) => {\r\n        if (incomingVidRef?.current && incomingVidRef?.current?.srcObject !== e.streams[0]) {\r\n            incomingVidRef.current.srcObject = e.streams[0];\r\n            // console.log('pc2 received remote stream');\r\n        }\r\n    }\r\n\r\n\r\n    const makeVideoCall = (stream: MediaStream) => {\r\n        const localConnection = new RTCPeerConnection();\r\n        const remoteConnection = new RTCPeerConnection();\r\n\r\n        // Add Ice Candidate when created\r\n        localConnection.onicecandidate = (iceEvent) => {\r\n            // console.log('LocalConnection : Adding Candidate', iceEvent.candidate)\r\n            if (iceEvent.candidate) remoteConnection.addIceCandidate(iceEvent.candidate)\r\n        }\r\n        // localConnection.oniceconnectionstatechange = (stateChangeEvent) => console.log('localConnection state Change ', stateChangeEvent)\r\n\r\n        // Add Ice Candidate when created\r\n        remoteConnection.onicecandidate = (iceEvent) => {\r\n            // console.log('RemoteConnection : Adding Candidate', iceEvent.candidate)\r\n            if (iceEvent.candidate) localConnection.addIceCandidate(iceEvent.candidate)\r\n        }\r\n        // remoteConnection.oniceconnectionstatechange = (stateChangeEvent) => console.log('remote state Change', stateChangeEvent)\r\n\r\n        remoteConnection.addEventListener('track', gotRemoteStream);\r\n\r\n        stream.getTracks().forEach(track => localConnection.addTrack(track, stream));\r\n        console.log('Added stream to local');\r\n\r\n        // Create an offer to connect (Sets up the terms for the call)\r\n        localConnection.createOffer({ offerToReceiveVideo: true }).then(async (offer) => {\r\n            // console.log(`Offer from local\\n${offer.sdp}`);\r\n            // Set the description of tye call on the local PC\r\n            // console.log('local setLocalDescription start');\r\n            await localConnection.setLocalDescription(offer).catch(pipeErr)\r\n            // console.log(`remote setRemoteDescription start`);\r\n            // Set the description of the call on the remote PC\r\n            await remoteConnection.setRemoteDescription(offer).catch(pipeErr)\r\n            // Remote PC answers local\r\n            console.log(\"creating answer\")\r\n            const answer = await remoteConnection.createAnswer().catch(pipeErr)\r\n            // console.log(`Answer from remote:\\n${offer.sdp}`);\r\n            // Set the description of the answer to the call remote\r\n            // console.log('remote setLocalDescription start');\r\n            await remoteConnection.setLocalDescription(answer).catch(pipeErr)\r\n            // Set the description of the answer to the call on local\r\n            // console.log('local setRemoteDescription start');\r\n            await localConnection.setRemoteDescription(answer).catch(pipeErr)\r\n        })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div style={{ position: \"relative\" }}>\r\n                <video ref={videoRef} onCanPlay={canPlay} id=\"player\" autoPlay playsInline muted />\r\n                <p style={{ position: \"absolute\", color: 'white', top: 10, left: 10 }}>Your Name: {client}</p>\r\n            </div>\r\n            <div style={{ position: \"relative\" }}>\r\n                <video ref={incomingVidRef} playsInline autoPlay ></video>\r\n                <p style={{ position: \"absolute\", color: 'white', top: 10, left: 10 }}>Caller Name: {'caller'}</p>\r\n            </div>\r\n            <Button content=\"Connect to websocket\" primary onClick={() => signalConnect()} disabled={inCall} />\r\n        </div>\r\n    )\r\n}",{"ruleId":"81","severity":1,"message":"82","line":5,"column":8,"nodeType":"83","messageId":"84","endLine":5,"endColumn":23},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"81","severity":1,"message":"89","line":1,"column":17,"nodeType":"83","messageId":"84","endLine":1,"endColumn":26},{"ruleId":"81","severity":1,"message":"90","line":1,"column":28,"nodeType":"83","messageId":"84","endLine":1,"endColumn":35},{"ruleId":"81","severity":1,"message":"91","line":1,"column":37,"nodeType":"83","messageId":"84","endLine":1,"endColumn":43},{"ruleId":"81","severity":1,"message":"92","line":1,"column":45,"nodeType":"83","messageId":"84","endLine":1,"endColumn":53},{"ruleId":"81","severity":1,"message":"93","line":4,"column":10,"nodeType":"83","messageId":"84","endLine":4,"endColumn":16},{"ruleId":"81","severity":1,"message":"94","line":6,"column":10,"nodeType":"83","messageId":"84","endLine":6,"endColumn":12},{"ruleId":"81","severity":1,"message":"95","line":6,"column":14,"nodeType":"83","messageId":"84","endLine":6,"endColumn":20},{"ruleId":"81","severity":1,"message":"96","line":6,"column":22,"nodeType":"83","messageId":"84","endLine":6,"endColumn":26},{"ruleId":"81","severity":1,"message":"97","line":6,"column":28,"nodeType":"83","messageId":"84","endLine":6,"endColumn":42},{"ruleId":"81","severity":1,"message":"98","line":6,"column":44,"nodeType":"83","messageId":"84","endLine":6,"endColumn":59},{"ruleId":"81","severity":1,"message":"99","line":1,"column":17,"nodeType":"83","messageId":"84","endLine":1,"endColumn":29},{"ruleId":"81","severity":1,"message":"100","line":3,"column":20,"nodeType":"83","messageId":"84","endLine":3,"endColumn":26},{"ruleId":"81","severity":1,"message":"101","line":6,"column":3,"nodeType":"83","messageId":"84","endLine":6,"endColumn":7},{"ruleId":"81","severity":1,"message":"102","line":7,"column":3,"nodeType":"83","messageId":"84","endLine":7,"endColumn":11},{"ruleId":"81","severity":1,"message":"103","line":17,"column":37,"nodeType":"83","messageId":"84","endLine":17,"endColumn":52},{"ruleId":"104","severity":1,"message":"105","line":21,"column":1,"nodeType":"106","endLine":56,"endColumn":2},{"ruleId":"81","severity":1,"message":"107","line":6,"column":7,"nodeType":"83","messageId":"84","endLine":6,"endColumn":20},{"ruleId":"81","severity":1,"message":"99","line":1,"column":17,"nodeType":"83","messageId":"84","endLine":1,"endColumn":29},{"ruleId":"81","severity":1,"message":"93","line":2,"column":10,"nodeType":"83","messageId":"84","endLine":2,"endColumn":16},{"ruleId":"108","severity":1,"message":"109","line":9,"column":52,"nodeType":"110","messageId":"111","endLine":9,"endColumn":82,"fix":"112"},{"ruleId":"81","severity":1,"message":"99","line":1,"column":17,"nodeType":"83","messageId":"84","endLine":1,"endColumn":29},{"ruleId":"81","severity":1,"message":"113","line":47,"column":11,"nodeType":"83","messageId":"84","endLine":47,"endColumn":24},"@typescript-eslint/no-unused-vars","'reportWebVitals' is defined but never used.","Identifier","unusedVar","no-native-reassign",["114"],"no-negated-in-lhs",["115"],"'useEffect' is defined but never used.","'useMemo' is defined but never used.","'useRef' is defined but never used.","'useState' is defined but never used.","'Button' is defined but never used.","'ws' is defined but never used.","'client' is defined but never used.","'room' is defined but never used.","'makeConnection' is defined but never used.","'localConnection' is defined but never used.","'ReactElement' is defined but never used.","'Router' is defined but never used.","'Link' is defined but never used.","'Redirect' is defined but never used.","'PASS_RESET_PATH' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'CREATE_SUFFIX' is assigned a value but never used.","no-useless-rename","Destructuring assignment vertCenter unnecessarily renamed.","Property","unnecessarilyRenamed",{"range":"116","text":"117"},"'makeVideoCall' is assigned a value but never used.","no-global-assign","no-unsafe-negation",[255,285],"vertCenter = false"]