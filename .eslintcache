[{"/home/rmdadmin/Docs/aloop-frontend/src/index.tsx":"1","/home/rmdadmin/Docs/aloop-frontend/src/style/theme.ts":"2","/home/rmdadmin/Docs/aloop-frontend/src/components/app/App.tsx":"3","/home/rmdadmin/Docs/aloop-frontend/src/style/fontFaces.ts":"4","/home/rmdadmin/Docs/aloop-frontend/src/style/colors.ts":"5","/home/rmdadmin/Docs/aloop-frontend/src/routes/Router.tsx":"6","/home/rmdadmin/Docs/aloop-frontend/src/pages/Auth/ProfilePage.tsx":"7","/home/rmdadmin/Docs/aloop-frontend/src/pages/HomePage.tsx":"8","/home/rmdadmin/Docs/aloop-frontend/src/routes/Paths.ts":"9","/home/rmdadmin/Docs/aloop-frontend/src/pages/Auth/LoginPage.tsx":"10","/home/rmdadmin/Docs/aloop-frontend/src/pages/Auth/RegisterPage.tsx":"11","/home/rmdadmin/Docs/aloop-frontend/src/components/video/VideoCall.tsx":"12","/home/rmdadmin/Docs/aloop-frontend/src/pages/templates/CenteredPage.tsx":"13","/home/rmdadmin/Docs/aloop-frontend/src/api/authQueries.ts":"14","/home/rmdadmin/Docs/aloop-frontend/src/components/forms/Auth/LoginForm.tsx":"15","/home/rmdadmin/Docs/aloop-frontend/src/components/forms/Auth/RegisterForm.tsx":"16","/home/rmdadmin/Docs/aloop-frontend/src/utils/validators/emailValidation.ts":"17","/home/rmdadmin/Docs/aloop-frontend/src/utils/validators/passwordValidation.ts":"18","/home/rmdadmin/Docs/aloop-frontend/src/components/forms/template/FormTemplate.tsx":"19","/home/rmdadmin/Docs/aloop-frontend/src/utils/forms/MakeForm.tsx":"20","/home/rmdadmin/Docs/aloop-frontend/src/api/defaults.ts":"21","/home/rmdadmin/Docs/aloop-frontend/src/utils/text/stringAsNestedSelector.ts":"22","/home/rmdadmin/Docs/aloop-frontend/src/utils/text/camelToSentence.ts":"23","/home/rmdadmin/Docs/aloop-frontend/src/config.ts":"24","/home/rmdadmin/Docs/aloop-frontend/src/utils/sockets/socket.ts":"25","/home/rmdadmin/Docs/aloop-frontend/src/components/video/VideoRooms.tsx":"26","/home/rmdadmin/Docs/aloop-frontend/src/components/FetchTemplate.tsx":"27","/home/rmdadmin/Docs/aloop-frontend/src/api/videoQueries.ts":"28","/home/rmdadmin/Docs/aloop-frontend/src/components/video/SidePanel.tsx":"29","/home/rmdadmin/Docs/aloop-frontend/src/components/app/authReducer.ts":"30"},{"size":664,"mtime":1613574076861,"results":"31","hashOfConfig":"32"},{"size":1704,"mtime":1613574076861,"results":"33","hashOfConfig":"32"},{"size":1401,"mtime":1615325995417,"results":"34","hashOfConfig":"32"},{"size":532,"mtime":1613574076861,"results":"35","hashOfConfig":"32"},{"size":14223,"mtime":1613574076861,"results":"36","hashOfConfig":"32"},{"size":1988,"mtime":1614637040760,"results":"37","hashOfConfig":"32"},{"size":996,"mtime":1613574076861,"results":"38","hashOfConfig":"32"},{"size":1667,"mtime":1615328168877,"results":"39","hashOfConfig":"32"},{"size":282,"mtime":1613574076861,"results":"40","hashOfConfig":"32"},{"size":550,"mtime":1613574076861,"results":"41","hashOfConfig":"32"},{"size":423,"mtime":1613574076861,"results":"42","hashOfConfig":"32"},{"size":5386,"mtime":1614275758465,"results":"43","hashOfConfig":"32"},{"size":821,"mtime":1613574076861,"results":"44","hashOfConfig":"32"},{"size":1787,"mtime":1614633519470,"results":"45","hashOfConfig":"32"},{"size":2849,"mtime":1615326915867,"results":"46","hashOfConfig":"32"},{"size":3049,"mtime":1614634992640,"results":"47","hashOfConfig":"32"},{"size":123,"mtime":1613574076871,"results":"48","hashOfConfig":"32"},{"size":105,"mtime":1613574076871,"results":"49","hashOfConfig":"32"},{"size":718,"mtime":1613574076861,"results":"50","hashOfConfig":"32"},{"size":1899,"mtime":1615326657087,"results":"51","hashOfConfig":"32"},{"size":425,"mtime":1614632598150,"results":"52","hashOfConfig":"32"},{"size":645,"mtime":1613574076871,"results":"53","hashOfConfig":"32"},{"size":363,"mtime":1613574076871,"results":"54","hashOfConfig":"32"},{"size":822,"mtime":1615335566897,"results":"55","hashOfConfig":"32"},{"size":4426,"mtime":1614696868500,"results":"56","hashOfConfig":"32"},{"size":1472,"mtime":1615321882667,"results":"57","hashOfConfig":"32"},{"size":593,"mtime":1614283733025,"results":"58","hashOfConfig":"32"},{"size":706,"mtime":1614634425630,"results":"59","hashOfConfig":"32"},{"size":315,"mtime":1615321893687,"results":"60","hashOfConfig":"32"},{"size":1066,"mtime":1615325435707,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"65"},"1mdfec9",{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"65"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"65"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"65"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"65"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"65"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"65"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"96","usedDeprecatedRules":"65"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"65"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"65"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"65"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"134","usedDeprecatedRules":"65"},"/home/rmdadmin/Docs/aloop-frontend/src/index.tsx",["135"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\nimport reportWebVitals from './reportWebVitals';\nimport { gsaTheme } from './style/theme';\nimport { Provider } from '@fluentui/react-northstar';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider theme={gsaTheme}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n",["136","137"],"/home/rmdadmin/Docs/aloop-frontend/src/style/theme.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/components/app/App.tsx",["138"],"import React, { createContext, useReducer } from 'react';\nimport './App.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Button, Flex, Debug } from '@fluentui/react-northstar'\nimport { IconContext } from 'react-icons'\n// import { ws, client, room, makeConnection, localConnection } from '../../utils/sockets/socket';\nimport Router from '../../routes/Router'\nimport { QueryClient, QueryClientProvider } from 'react-query'\nimport { ReactQueryDevtools } from 'react-query/devtools'\nimport { authReducer, UserAuthContext } from './authReducer';\n\n// The query client for react fetch\nexport const queryClient = new QueryClient()\n\n// The Context for global Auth state (Context API)\nexport const AuthUserContext = createContext<typeof undefined | UserAuthContext>(undefined);\n\nfunction App() {\n  const [selfState, dispatch] = useReducer(authReducer, {\n    auth: false,\n    user: null\n  })\n  return (\n    <AuthUserContext.Provider value={{ selfState, dispatch }}>\n      <QueryClientProvider client={queryClient}>\n        <ReactQueryDevtools initialIsOpen={false} />\n        <BrowserRouter>\n          <IconContext.Provider value={{ size: '1.25rem' }}>\n            <Flex column>\n              <Router />\n              <Debug />\n            </Flex>\n          </IconContext.Provider>\n        </BrowserRouter>\n      </QueryClientProvider>\n    </AuthUserContext.Provider>\n  );\n}\n\nexport default App;\n","/home/rmdadmin/Docs/aloop-frontend/src/style/fontFaces.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/style/colors.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/routes/Router.tsx",["139","140"],"import React, { ReactElement } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport RegisterPage from \"../pages/Auth/RegisterPage\";\nimport { LOGIN_PATH, REGISTER_PATH } from \"./Paths\";\nimport CenteredPage from \"../pages/templates/CenteredPage\";\nimport { VideoCall } from \"../components/video/VideoCall\";\nimport LoginPage from \"../pages/Auth/LoginPage\";\nimport { HomePage } from \"../pages/HomePage\";\nimport ProfilePage from \"../pages/Auth/ProfilePage\";\nimport { VideoRooms } from \"../components/video/VideoRooms\";\nimport { SidePanel } from '../components/video/SidePanel';\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => {\n  // const [{ data: loginData }] = useGetOwnEmailQuery();\n\n  // const onlyLoggedIn = (page: ReactElement, alt: ReactElement = <Redirect to=\"/login\" />) => loginData?.getSelf?.email ? page : alt\n  // const onlyLoggedOut = (page: ReactElement, alt: ReactElement = <Redirect to=\"/\" />) => !loginData?.getSelf?.email ? page : alt\n\n  // const self = useGetSelfQuery();\n\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <HomePage />\n      </Route>\n      <Route path={LOGIN_PATH}>\n        {/* {onlyLoggedOut(<LoginPage />)} */}\n        <LoginPage />\n      </Route>\n      <Route path={REGISTER_PATH}>\n        <RegisterPage />\n      </Route>\n      <Route path={\"/video\"}>\n        <CenteredPage>\n          <SidePanel>\n            <VideoRooms />\n          </SidePanel>\n          <VideoCall />\n        </CenteredPage>\n      </Route>\n      <Route path={\"/profile\"}>\n        <ProfilePage />\n      </Route>\n      {/* <Route path={PASS_RESET_PATH}>\n        {onlyLoggedOut(<ForgotPasswordPage />)}\n      </Route> */}\n      {/* <Route path={PASS_RESET_PATH + '/:token'}>\n        {onlyLoggedOut(<PasswordResetPage />)}\n      </Route> */}\n      <Route path=\"*\">\n        {/* <ErrorPage error={{ number: 404, message: \"Page not found\" }}></ErrorPage> */}\n      </Route>\n    </Switch>\n  )\n}","/home/rmdadmin/Docs/aloop-frontend/src/pages/Auth/ProfilePage.tsx",["141","142","143","144"],"import React, { ReactElement, useEffect } from 'react';\nimport CenteredPage from '../templates/CenteredPage';\nimport { Link, Redirect } from 'react-router-dom';\nimport { LOGIN_PATH, } from '../../routes/Paths';\nimport { useGetSelfQuery } from '../../api/authQueries';\nimport { Flex, Loader, Text } from '@fluentui/react-northstar'\n\nconst ProfilePage = (): ReactElement => {\n    // const authenticated = false\n\n    // const cache = useQueryCache();\n    const { status, data, error, isFetching } = useGetSelfQuery();\n\n    return isFetching ? (<Loader />) : !error ?\n        (\n            <CenteredPage>\n                <h1>Welcome {data.email}</h1>\n            </CenteredPage>\n        )\n        : (\n            // <Redirect to={LOGIN_PATH} />\n            <CenteredPage>\n                <Text error>{typeof error === \"string\" ? error : \"Authentication Error: Timeout\"}</Text>\n                <Link to={LOGIN_PATH}>Login</Link>\n            </CenteredPage>\n        )\n\n\n}\n\n\nexport default ProfilePage;\n","/home/rmdadmin/Docs/aloop-frontend/src/pages/HomePage.tsx",["145"],"import { Flex, Loader, Text } from '@fluentui/react-northstar'\nimport React, { useContext } from 'react'\nimport { useQueryClient } from 'react-query'\nimport { Link } from 'react-router-dom'\nimport { useGetUsers } from '../api/authQueries'\nimport { AuthUserContext } from '../components/app/App'\nimport { LOGIN_PATH, REGISTER_PATH } from '../routes/Paths'\nimport CenteredPage from './templates/CenteredPage'\n\ninterface Props {\n\n}\n\nexport const HomePage: React.FC<Props> = ({ children }) => {\n    // const cache = useQueryClient();\n    const { data, error, isFetching } = useGetUsers();\n    const authcontext = useContext(AuthUserContext)\n\n\n    return (\n        <CenteredPage>\n            {/* {onlyLoggedIn(<Temp />, <h1>Welcome to Greenstar Aviation</h1>)} */}\n            <Flex styles={{ width: \"100%\", justifyContent: \"space-evenly\", margin: '2rem 10rem' }}>\n                {!authcontext?.selfState?.auth ?\n                    <>\n                        <Link to={LOGIN_PATH}>Login</Link>\n                        <Link to={REGISTER_PATH}>Register</Link>\n                    </> :\n                    <>\n                        <Link to='/video'>Video</Link>\n                        <Link to='/profile'>Profile</Link>\n                    </>}\n            </Flex>\n            <Text content=\"Users:\" size=\"largest\" weight=\"bold\" />\n            {\n                isFetching ?\n                    (<Loader />) :\n                    (error ? (<Text content=\"Error retrieving users\" error />) : (\n                        data.map((user: any) => (<Text content={user.first_name} key={user.user_id} />))\n                    ))\n            }\n\n\n        </CenteredPage>\n    )\n}","/home/rmdadmin/Docs/aloop-frontend/src/routes/Paths.ts",["146"],"export const LOGIN_PATH = '/login';\nexport const REGISTER_PATH = '/register';\nexport const PASS_RESET_PATH = '/register';\nexport const SELF_PATH = `/self`;\nexport const USER_PATH = '/user';\n\nexport const USERS_PATH = `${USER_PATH}s`;\n\n// Crud suffixes\nconst CREATE_SUFFIX = '/new';\n","/home/rmdadmin/Docs/aloop-frontend/src/pages/Auth/LoginPage.tsx",[],"/home/rmdadmin/Docs/aloop-frontend/src/pages/Auth/RegisterPage.tsx",[],"/home/rmdadmin/Docs/aloop-frontend/src/components/video/VideoCall.tsx",["147"],"import { Button } from '@fluentui/react-northstar'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { makeConnection, localConnection, client } from '../../utils/sockets/socket';\n\ninterface Props {\n\n}\n\nexport const VideoCall: React.FC<Props> = ({ children }) => {\n    const videoRef = useRef<HTMLVideoElement>(null);\n    const incomingVidRef = useRef<HTMLVideoElement>(null);\n    // const [streamOut, setStream] = useState<MediaStream>()\n    const [inCall, setInCall] = useState(false)\n    const [callMessage, setCallMessage] = useState<string>(\"\")\n\n    const signalConnect = () => {\n        setInCall(true)\n        if (makeConnection()) {\n\n        } else {\n            setInCall(false)\n            console.log(\"Could not connect\")\n            setCallMessage(\"Could not connect\")\n        }\n    }\n\n    const pipeErr = (err: Error) => { throw err }\n\n    useEffect(() => {\n        if (!navigator.mediaDevices?.getUserMedia({ audio: false, video: true })\n            .then((stream) => {\n                if (videoRef?.current) {\n                    videoRef.current.srcObject = stream\n                    localConnection.ontrack = gotRemoteStream;\n                    stream.getTracks().forEach(track => localConnection.addTrack(track, stream));\n                    // setStream(stream)\n                    // makeVideoCall(stream)\n                }\n            }).catch((err) => console.error(`Error getting media device`, err))) {\n            // There are no media devices\n            setCallMessage(\"No media devices found, is your camera / microphone connected?\")\n        };\n    }, [videoRef])\n\n    const canPlay = () => {\n        if (videoRef?.current) { videoRef.current.play() }\n    }\n\n    const gotRemoteStream = (e: any) => {\n        if (incomingVidRef?.current && incomingVidRef?.current?.srcObject !== e.streams[0]) {\n            incomingVidRef.current.srcObject = e.streams[0];\n            // console.log('pc2 received remote stream');\n        }\n    }\n\n\n    const makeVideoCall = (stream: MediaStream) => {\n        const localConnection = new RTCPeerConnection();\n        const remoteConnection = new RTCPeerConnection();\n\n        // Add Ice Candidate when created\n        localConnection.onicecandidate = (iceEvent) => {\n            // console.log('LocalConnection : Adding Candidate', iceEvent.candidate)\n            if (iceEvent.candidate) remoteConnection.addIceCandidate(iceEvent.candidate)\n        }\n        // localConnection.oniceconnectionstatechange = (stateChangeEvent) => console.log('localConnection state Change ', stateChangeEvent)\n\n        // Add Ice Candidate when created\n        remoteConnection.onicecandidate = (iceEvent) => {\n            // console.log('RemoteConnection : Adding Candidate', iceEvent.candidate)\n            if (iceEvent.candidate) localConnection.addIceCandidate(iceEvent.candidate)\n        }\n        // remoteConnection.oniceconnectionstatechange = (stateChangeEvent) => console.log('remote state Change', stateChangeEvent)\n\n        remoteConnection.addEventListener('track', gotRemoteStream);\n\n        stream.getTracks().forEach(track => localConnection.addTrack(track, stream));\n        console.log('Added stream to local');\n\n        // Create an offer to connect (Sets up the terms for the call)\n        localConnection.createOffer({ offerToReceiveVideo: true }).then(async (offer) => {\n            // console.log(`Offer from local\\n${offer.sdp}`);\n            // Set the description of tye call on the local PC\n            // console.log('local setLocalDescription start');\n            await localConnection.setLocalDescription(offer).catch(pipeErr)\n            // console.log(`remote setRemoteDescription start`);\n            // Set the description of the call on the remote PC\n            await remoteConnection.setRemoteDescription(offer).catch(pipeErr)\n            // Remote PC answers local\n            console.log(\"creating answer\")\n            const answer = await remoteConnection.createAnswer().catch(pipeErr)\n            // console.log(`Answer from remote:\\n${offer.sdp}`);\n            // Set the description of the answer to the call remote\n            // console.log('remote setLocalDescription start');\n            await remoteConnection.setLocalDescription(answer).catch(pipeErr)\n            // Set the description of the answer to the call on local\n            // console.log('local setRemoteDescription start');\n            await localConnection.setRemoteDescription(answer).catch(pipeErr)\n        })\n            .catch(err => console.error(err))\n    }\n\n\n    return (\n        <div>\n            <div style={{ position: \"relative\" }}>\n                <video ref={videoRef} onCanPlay={canPlay} id=\"player\" autoPlay playsInline muted width=\"426\" height=\"240\" />\n                <p style={{ position: \"absolute\", color: 'white', top: 10, left: 10 }}>Your Name: {client}</p>\n            </div>\n            {/* {inCall ? ( */}\n            <div style={{ position: \"relative\" }}>\n                <video ref={incomingVidRef} playsInline autoPlay width=\"426\" height=\"240\"></video>\n                <p style={{ position: \"absolute\", color: 'white', top: 10, left: 10 }}>Caller Name: {'caller'}</p>\n            </div>\n            {/* ) : ''\n             } */}\n            <p>{callMessage}</p>\n            <Button content=\"Join Room\" primary onClick={() => signalConnect()} disabled={inCall} />\n        </div>\n    )\n}","/home/rmdadmin/Docs/aloop-frontend/src/pages/templates/CenteredPage.tsx",["148","149","150"],"import React, { ReactElement } from 'react';\nimport { Button, Flex } from '@fluentui/react-northstar';\nimport { gsaTheme } from '../../style/theme';\n\ninterface Props {\n    vertCenter?: boolean\n}\n\nconst CenteredPage: React.FC<Props> = ({ children, vertCenter: vertCenter = false }) => (\n    <Flex styles={{ height: '100vh', overflowY: 'scroll', width: '100%', justifyContent: 'center', backgroundColor: gsaTheme.siteVariables.colors.grey[200] }}>\n        <Flex styles={{ minHeight: '80vh', height: 'fit-content', justifyContent: vertCenter ? 'center' : 'flex-start', alignItems: 'center', flexDirection: 'column', margin: '10vh 2rem', padding: '2rem', backgroundColor: gsaTheme.siteVariables.colors.white, width: 'min( 50rem, 100%)' }}>\n            {children}\n        </Flex>\n    </Flex>\n);\n\n\nexport default CenteredPage;\n","/home/rmdadmin/Docs/aloop-frontend/src/api/authQueries.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/components/forms/Auth/LoginForm.tsx",["151"],"\n\n\nimport React, { useContext, useState } from 'react'\nimport { SubmitHandler, useForm } from 'react-hook-form'\nimport { useLoginQuery } from '../../../api/authQueries'\nimport { MakeForm } from '../../../utils/forms/MakeForm'\nimport { emailValidation } from '../../../utils/validators/emailValidation'\nimport { passwordValidation } from '../../../utils/validators/passwordValidation'\nimport { LOGIN } from '../../app/authReducer'\nimport { FormTemplate } from '../template/FormTemplate'\nimport { AuthUserContext } from '../../app/App'\ninterface Props {\n\n}\n\nexport const LoginForm: React.FC<Props> = ({ children }) => {\n    const authcontext = useContext(AuthUserContext)\n    // Form Validation\n    const { register, handleSubmit, setError, errors, formState, getValues } = useForm({ mode: 'onBlur', reValidateMode: 'onBlur', });\n    // Submission : Change to react Query\n    // const [{ fetching }, registerMutation] = useRegisterMutation()\n    // const todosQuery = useQuery('todos', getTodos)\n    // const { isLoading, error, data }\n\n    // const [loginMutation, { isLoading }] = useLoginQuery();\n    const { mutateAsync: loginMutation, isLoading } = useLoginQuery();\n\n    const [success, setSuccess] = useState(false)\n\n    const attemptLogin: SubmitHandler<any> = (data, event) => {\n        event?.preventDefault();\n        // Get email and password from data\n        const { email, password } = data;\n        //Try to login\n        if (email && password) {\n            loginMutation({ email, pass: password, })\n                .then((all) => {\n                    console.log(all)\n                    // If theres a server error show in UI\n                    if (all && (all.message || all.errors)) return setError(\"password\", {\n                        type: \"server\",\n                        message: all?.errors[0]?.message || \"Password Incorrect\"\n                    })\n                    // Process successful login\n                    console.log(all)\n                    authcontext?.dispatch({\n                        type: LOGIN,\n                        payload: all\n                    })\n                    setSuccess(true)\n                })\n                .catch((err) => {\n                    console.log(err);\n                    setError(\"password\", { type: \"server\", message: \"Error: 500\" })\n                })\n        } else {\n            setError(\"password\", {\n                type: \"server\",\n                message: \"Invalid input\"\n            })\n        }\n    }\n\n    return (<FormTemplate success={success} fetching={isLoading} onSubmit={handleSubmit(attemptLogin)}>\n        {MakeForm([\n            { id: \"email\", type: 'email', validation: emailValidation },\n            { id: \"password\", type: 'password', validation: passwordValidation }\n        ],\n            errors, register, formState)}\n    </FormTemplate>\n    )\n}","/home/rmdadmin/Docs/aloop-frontend/src/components/forms/Auth/RegisterForm.tsx",[],"/home/rmdadmin/Docs/aloop-frontend/src/utils/validators/emailValidation.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/utils/validators/passwordValidation.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/components/forms/template/FormTemplate.tsx",["152","153"],"import React, { ReactElement, useState } from 'react'\nimport { ComponentEventHandler, Form, FormProps } from '@fluentui/react-northstar'\nimport { Redirect } from 'react-router-dom';\n\ninterface Props {\n    onSubmit?: ComponentEventHandler<FormProps>\n    success?: boolean,\n    fetching?: boolean\n    to?: string\n}\n\nexport const FormTemplate: React.FC<Props> = ({ children, onSubmit, success, fetching, to = '/' }) => {\n    return success ? <Redirect to={to} /> : (\n        <Form onSubmit={onSubmit} styles={{ justifyContent: 'start', width: 'auto', margin: '1rem 2rem' }}>\n            {children}\n            <Form.Button content=\"Submit\" loading={fetching} disabled={fetching} fluid primary />\n        </Form>\n    )\n}\n\n","/home/rmdadmin/Docs/aloop-frontend/src/utils/forms/MakeForm.tsx",[],"/home/rmdadmin/Docs/aloop-frontend/src/api/defaults.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/utils/text/stringAsNestedSelector.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/utils/text/camelToSentence.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/config.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/utils/sockets/socket.ts",[],"/home/rmdadmin/Docs/aloop-frontend/src/components/video/VideoRooms.tsx",[],"/home/rmdadmin/Docs/aloop-frontend/src/components/FetchTemplate.tsx",[],"/home/rmdadmin/Docs/aloop-frontend/src/api/videoQueries.ts",["154","155"],"import { useMutation, useQuery } from 'react-query';\nimport { getFetch, postFetch } from './defaults';\n\nconst VIDEO_CHANNEL_CACHE_KEY = 'video_channel';\n\nexport interface VideoChannelRes {\n  video_channel_id: number;\n  channel_name: string;\n  created_at: string;\n}\n\nconst getVideoChannels = async () =>\n  getFetch('/vidchan')\n    .then((res) => {\n      console.log(res);\n      if (res.ok) {\n        return res.json();\n      } else {\n        throw new Error('Authentication Error');\n      }\n    })\n    .catch((e) => {\n      console.error('POST REQUEST ERROR', e);\n      throw e;\n    });\n\nexport const useGetVideoChannelQuery = () =>\n  useQuery<VideoChannelRes[]>(VIDEO_CHANNEL_CACHE_KEY, getVideoChannels);\n","/home/rmdadmin/Docs/aloop-frontend/src/components/video/SidePanel.tsx",[],"/home/rmdadmin/Docs/aloop-frontend/src/components/app/authReducer.ts",["156"],"import { ReducerWithoutAction } from 'react';\n\n// Export strings : These are the actions that can be run\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport type User = {\n  user_id: number;\n  first_name: String;\n  last_name: String;\n  email: String;\n};\n\nexport interface AuthState {\n  auth: boolean;\n  user: User | null;\n}\n\ninterface ReducerAction {\n  type: typeof LOGIN | typeof LOGOUT;\n  payload: { user: AuthState['user'] };\n}\n\nexport interface UserAuthContext {\n  selfState: AuthState;\n  dispatch: React.Dispatch<ReducerAction>;\n}\n\nexport const authReducer = (state: AuthState, action: ReducerAction): AuthState => {\n  switch (action.type) {\n    case LOGIN:\n      console.log(action);\n      // Seperate the api_token from the user, add to state\n      const { user } = action.payload;\n      return { ...state, auth: true, user };\n    case LOGOUT:\n      console.log('Logging out');\n      return { ...state, auth: false, user: null };\n    default:\n      console.error('Auth Reducer: Action does not exist', action.type);\n      return state;\n  }\n};\n",{"ruleId":"157","severity":1,"message":"158","line":5,"column":8,"nodeType":"159","messageId":"160","endLine":5,"endColumn":23},{"ruleId":"161","replacedBy":"162"},{"ruleId":"163","replacedBy":"164"},{"ruleId":"157","severity":1,"message":"165","line":4,"column":10,"nodeType":"159","messageId":"160","endLine":4,"endColumn":16},{"ruleId":"157","severity":1,"message":"166","line":1,"column":17,"nodeType":"159","messageId":"160","endLine":1,"endColumn":29},{"ruleId":"157","severity":1,"message":"167","line":3,"column":20,"nodeType":"159","messageId":"160","endLine":3,"endColumn":26},{"ruleId":"157","severity":1,"message":"168","line":1,"column":31,"nodeType":"159","messageId":"160","endLine":1,"endColumn":40},{"ruleId":"157","severity":1,"message":"169","line":3,"column":16,"nodeType":"159","messageId":"160","endLine":3,"endColumn":24},{"ruleId":"157","severity":1,"message":"170","line":6,"column":10,"nodeType":"159","messageId":"160","endLine":6,"endColumn":14},{"ruleId":"157","severity":1,"message":"171","line":12,"column":13,"nodeType":"159","messageId":"160","endLine":12,"endColumn":19},{"ruleId":"157","severity":1,"message":"172","line":3,"column":10,"nodeType":"159","messageId":"160","endLine":3,"endColumn":24},{"ruleId":"157","severity":1,"message":"173","line":10,"column":7,"nodeType":"159","messageId":"160","endLine":10,"endColumn":20},{"ruleId":"157","severity":1,"message":"174","line":57,"column":11,"nodeType":"159","messageId":"160","endLine":57,"endColumn":24},{"ruleId":"157","severity":1,"message":"166","line":1,"column":17,"nodeType":"159","messageId":"160","endLine":1,"endColumn":29},{"ruleId":"157","severity":1,"message":"165","line":2,"column":10,"nodeType":"159","messageId":"160","endLine":2,"endColumn":16},{"ruleId":"175","severity":1,"message":"176","line":9,"column":52,"nodeType":"177","messageId":"178","endLine":9,"endColumn":82,"fix":"179"},{"ruleId":"157","severity":1,"message":"180","line":20,"column":66,"nodeType":"159","messageId":"160","endLine":20,"endColumn":75},{"ruleId":"157","severity":1,"message":"166","line":1,"column":17,"nodeType":"159","messageId":"160","endLine":1,"endColumn":29},{"ruleId":"157","severity":1,"message":"181","line":1,"column":31,"nodeType":"159","messageId":"160","endLine":1,"endColumn":39},{"ruleId":"157","severity":1,"message":"182","line":1,"column":10,"nodeType":"159","messageId":"160","endLine":1,"endColumn":21},{"ruleId":"157","severity":1,"message":"183","line":2,"column":20,"nodeType":"159","messageId":"160","endLine":2,"endColumn":29},{"ruleId":"157","severity":1,"message":"184","line":1,"column":10,"nodeType":"159","messageId":"160","endLine":1,"endColumn":30},"@typescript-eslint/no-unused-vars","'reportWebVitals' is defined but never used.","Identifier","unusedVar","no-native-reassign",["185"],"no-negated-in-lhs",["186"],"'Button' is defined but never used.","'ReactElement' is defined but never used.","'Router' is defined but never used.","'useEffect' is defined but never used.","'Redirect' is defined but never used.","'Flex' is defined but never used.","'status' is assigned a value but never used.","'useQueryClient' is defined but never used.","'CREATE_SUFFIX' is assigned a value but never used.","'makeVideoCall' is assigned a value but never used.","no-useless-rename","Destructuring assignment vertCenter unnecessarily renamed.","Property","unnecessarilyRenamed",{"range":"187","text":"188"},"'getValues' is assigned a value but never used.","'useState' is defined but never used.","'useMutation' is defined but never used.","'postFetch' is defined but never used.","'ReducerWithoutAction' is defined but never used.","no-global-assign","no-unsafe-negation",[247,277],"vertCenter = false"]